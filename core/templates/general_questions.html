{% extends "base.html" %}

{% block content %}
<h2>General Questions</h2>

<p>
    Ask a general legal question. It may be answered and displayed publicly (anonymously).
</p>

<form method="post" style="margin-bottom: 20px;">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div>
        {{ form.text }}
        {% for error in form.text.errors %}
            <div style="color: red; font-size: 0.9rem;">{{ error }}</div>
        {% endfor %}
    </div>
    <button type="submit" class="btn">Submit Question</button>
</form>

<hr>

<h3>Public Questions</h3>

<ul style="list-style: none; padding-left: 0;">
    {% for q in questions %}
        <li class="card">
            <div>{{ q.text }}</div>
            <small style="color: #888;">
                Posted on {{ q.created_at|date:"Y-m-d H:i" }}
            </small>
        </li>
    {% empty %}
        <li>No public questions have been posted yet.</li>
    {% endfor %}
</ul>
{% endblock %}
