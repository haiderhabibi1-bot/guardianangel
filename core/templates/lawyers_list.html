{% extends "base.html" %}

{% block content %}
<h1 class="page-title">Lawyers List</h1>
<p>Browse verified lawyers available to answer your questions.</p>

{% if lawyers %}
    {% for lawyer in lawyers %}
        <div class="question-card">
            <h3>{{ lawyer.full_name }}</h3>
            <p><strong>Years of practice:</strong> {{ lawyer.years_of_practice }}</p>
            {% if lawyer.speciality %}
                <p><strong>Speciality:</strong> {{ lawyer.speciality }}</p>
            {% endif %}
            {% if lawyer.bio %}
                <p>{{ lawyer.bio }}</p>
            {% endif %}
            {% if lawyer.chat_fee %}
                <p><strong>Fee per chat:</strong> {{ lawyer.chat_fee }}</p>
            {% endif %}

            {% if user.is_authenticated %}
                {% if user.profile.role == 'customer' %}
                    <a href="{% url 'start_chat_with_lawyer' lawyer.id %}" class="btn">Start chat</a>
                {% else %}
                    <!-- Lawyers (and others) see info only; no button for themselves -->
                {% endif %}
            {% else %}
                <a href="{% url 'register_customer' %}" class="btn">Start chat</a>
            {% endif %}
        </div>
    {% endfor %}
{% else %}
    <p>No lawyers are listed yet.</p>
{% endif %}
{% endblock %}
