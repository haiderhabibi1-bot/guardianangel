{% extends "base.html" %}

{% block content %}
<h1>Public questions</h1>

{# Show "Ask a question" button only if logged in.
   No user.profile usage here to avoid 500s for anonymous visitors. #}
{% if user.is_authenticated %}
<div style="text-align:center; margin-bottom:16px;">
    <a href="{% url 'ask_public_question' %}" class="btn">Ask a question</a>
</div>
{% endif %}

{% if questions %}
    {% for q in questions %}
        <div class="question-card">
            <h3>Question</h3>
            <p>{{ q.question_text }}</p>

            <h3>Answer</h3>
            <p>{{ q.answer.answer_text }}</p>

            <p><em>Answered by a verified lawyer</em></p>
        </div>
    {% endfor %}
{% else %}
    <p>No answered questions yet.</p>
{% endif %}
{% endblock %}
